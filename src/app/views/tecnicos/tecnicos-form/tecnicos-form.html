<p>tecnicos-form works!</p>

<div class="form-container">
  <h2>{{ isEditando() ? 'Editar T√©cnico' : 'Novo T√©cnico' }}</h2>
  
  <a routerLink="/tecnicos" class="back-link"> Voltar para a Lista de T√©cnicos</a><br>


  <form (ngSubmit)="salvarTecnico()" #tecnicosForm="ngForm">
    
    <!-- Campo Nome -->
    <div class="form-group">
      <label for="nome">Nome:</label>
      <input 
        type="text" 
        id="nome" 
        [ngModel]="tecnico.nome"
        (ngModelChange)="atualizarNome($event)"
        name="nome" 
        required
        minlength="2"
        class="form-control"
        placeholder="Digite o nome completo do tecnicos">
      
      @if (tecnicosForm.controls['nome']?.invalid && tecnicosForm.controls['nome']?.touched) {
        <div class="error-message">
          @if (tecnicosForm.controls['nome']?.errors?.['required']) {
            <span>Nome √© obrigat√≥rio</span>
          }
          @if (tecnicosForm.controls['nome']?.errors?.['minlength']) {
            <span>Nome deve ter pelo menos 2 caracteres</span>
          }
        </div>
      }
    </div>

    <!-- Campo Email -->
    <div class="form-group">
      <label for="email">Email:</label>
      <input 
        type="email" 
        id="email" 
        [ngModel]="tecnico.email"
        (ngModelChange)="atualizarEmail($event)"
        name="email" 
        required
        email
        class="form-control"
        placeholder="exemplo@email.com">
      
      @if (tecnicosForm.controls['email']?.invalid && tecnicosForm.controls['email']?.touched) {
        <div class="error-message">
          @if (tecnicosForm.controls['email']?.errors?.['required']) {
            <span>Email √© obrigat√≥rio</span>
          }
          @if (tecnicosForm.controls['email']?.errors?.['email']) {
            <span>Digite um email v√°lido</span>
          }
        </div>
      }
    </div>

    <!-- Campo Telefone -->
    <div class="form-group">
      <label for="telefone">Telefone:</label>
      <input 
        type="tel" 
        id="telefone" 
        [ngModel]="tecnico.telefone"
        (ngModelChange)="atualizarTelefone($event)"
        name="telefone" 
        required
        pattern="[0-9()\\-\\s]+"
        class="form-control"
        placeholder="11999999999">
      
      @if (tecnicosForm.controls['telefone']?.invalid && tecnicosForm.controls['telefone']?.touched) {
        <div class="error-message">
          @if (tecnicosForm.controls['telefone']?.errors?.['required']) {
            <span>Telefone √© obrigat√≥rio</span>
          }
          @if (tecnicosForm.controls['telefone']?.errors?.['pattern']) {
            <span>Digite um telefone v√°lido</span>
          }
        </div>
      }
    </div>

    <!-- Campo Especialidade -->
    <div class="form-group">
      <label for="especialidade">Especialidade:</label>
      <textarea 
        id="especialidade" 
        [ngModel]="tecnico.especialidade"
        (ngModelChange)="atualizarEspecialidade($event)"
        name="especialidade" 
        required
        minlength="3"
        class="form-control"
        placeholder="Digite a especialidade completa!"
        rows="2"></textarea>
      
      @if (tecnicosForm.controls['especialidade']?.invalid && tecnicosForm.controls['especialidade']?.touched) {
        <div class="error-message">
          @if (tecnicosForm.controls['especialidade']?.errors?.['required']) {
            <span>Especialidade √© obrigat√≥ria!</span>
          }
          @if (tecnicosForm.controls['especialidade']?.errors?.['minlength']) {
            <span>Especialidade deve ter pelo menos 3 caracteres</span>
          }
        </div>
      }
    </div>

    <!-- Informa√ß√µes de Read-only para Edi√ß√£o -->
    @if (isEditando()) {
      <div class="readonly-info">
        <div class="info-item">
          <strong>ID:</strong> {{ tecnico.id }}
        </div>
        <div class="info-item">
          <strong>Data de Contrata√ß√£o:</strong> {{ tecnico.dataContratacao | date:'dd/MM/yyyy HH:mm' }}
        </div>
      </div>
    }

    <!-- A√ß√µes do Formul√°rio -->
    <div class="form-actions">
      <button 
        type="submit" 
        class="btn btn-primary"
        [disabled]="tecnicosForm.invalid">
        üíæ {{ isEditando() ? 'Atualizar t√©cnico' : 'Cadastrar t√©cnico' }}
      </button>
      
      <button 
        type="button" 
        class="btn btn-secondary" 
        (click)="router.navigate(['/tecnicos'])">
        ‚ùå Cancelar
      </button>
    </div>

  </form>
</div>